<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sim Database - Kami Flex</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Loader */
    #loader {
      display: none;
      justify-content: center;
      align-items: center;
      margin: 20px 0;
    }
    .spinner {
      border: 6px solid #f3f3f3;
      border-top: 6px solid #9333ea;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Animated Gradient Heading */
    .animated-text {
      background: linear-gradient(270deg, #7e22ce, #db2777, #f59e0b, #10b981);
      background-size: 800% 800%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientMove 6s ease infinite;
      font-family: 'Poppins', sans-serif;
      letter-spacing: 1px;
    }
    @keyframes gradientMove {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-200 via-purple-200 to-pink-200 font-sans text-gray-900 flex flex-col">

  <!-- HEADER -->
  <header class="backdrop-blur-sm bg-white/30 sticky top-0 z-40">
    <nav class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-center relative">
      <h1 class="text-3xl sm:text-4xl font-extrabold animated-text">Sim Database By Kami Flex</h1>
    </nav>
  </header>

  <!-- MAIN CONTENT -->
  <main class="flex-grow flex flex-col items-center justify-start px-6 py-12">
    
    <!-- Input -->
    <div class="w-full max-w-md bg-white/70 p-6 rounded-xl shadow-lg">
      <input id="phone" type="text" placeholder="Enter Phone Number (03xxxxxxxxx)" 
             class="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-purple-500 mb-4" />

      <button onclick="searchData()" 
              class="w-full px-6 py-3 rounded-xl bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-bold shadow-lg hover:scale-105 transition transform duration-300">
        üîç Search
      </button>

      <!-- Loader -->
      <div id="loader"><div class="spinner"></div><span class="ml-3 text-lg">Searching...</span></div>
    </div>

    <!-- Results -->
    <div id="results" class="w-full max-w-2xl mt-8"></div>

  </main>

  <!-- FOOTER -->
  <footer class="py-6 text-sm opacity-90 text-gray-800 text-center">
    <div class="font-bold">Kami Flex</div>
    <div>¬© 2025 All rights reserved</div>
  </footer>

  <script>
    async function searchData() {
      const phone = document.getElementById("phone").value.trim();
      const resultsDiv = document.getElementById("results");
      const loader = document.getElementById("loader");

      if (!phone) {
        alert("‚ö†Ô∏è Please enter a phone number!");
        return;
      }

      resultsDiv.innerHTML = "";
      loader.style.display = "flex";

      try {
        const res = await fetch(`https://api.impossible-world.xyz/api/data?phone=${phone}`);
        if (!res.ok) throw new Error("API Error");

        const data = await res.json();
        loader.style.display = "none";

        if (!data || data.length === 0) {
          resultsDiv.innerHTML = `<p class="text-red-500 text-lg">‚ö†Ô∏è No data found for this number.</p>`;
          return;
        }

        data.forEach(item => {
          const card = document.createElement("div");
          card.className = "p-4 mb-4 rounded-xl shadow-lg bg-gradient-to-r from-purple-200 via-pink-200 to-yellow-200";
          card.innerHTML = `
            <p><b>üìû Number:</b> ${item.phone}</p>
            <p><b>üë§ Name:</b> ${item.name || "Unknown"}</p>
            <button class="mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg" onclick="copyText('${item.phone}')">üìã Copy</button>
          `;
          resultsDiv.appendChild(card);
        });

      } catch (err) {
        loader.style.display = "none";
        resultsDiv.innerHTML = `<p class="text-red-500">‚ö†Ô∏è Error fetching data.</p>`;
        console.error(err);
      }
    }

    function copyText(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert("Copied: " + text);
      });
    }
  </script>
</body>
</html>
