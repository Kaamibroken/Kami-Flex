<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kami Flex Fake Numbers & OTP</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body { background:#071a2a; color:white; font-family:sans-serif; }
    .kami-title {
      font-size:28px; font-weight:bold;
      background:linear-gradient(90deg,#06b6d4,#9333ea);
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      text-align:center; margin-bottom:20px;
    }
    .card {
      background:rgba(255,255,255,0.05);
      border-radius:15px; padding:20px; max-width:500px; margin:auto;
      box-shadow:0 0 20px rgba(6,182,212,0.3);
    }
    .error { color:#ff4d4d; font-weight:bold; }
    pre { background:black; padding:10px; border-radius:8px; overflow-x:auto; }
  </style>
</head>
<body class="p-6">

  <h1 class="kami-title">Kami Flex Fake Numbers & OTP</h1>

  <div class="card space-y-6">
    <!-- NUMBER BUTTON -->
    <div>
      <button onclick="getNumber()" class="w-full bg-gradient-to-r from-green-500 to-teal-600 px-4 py-2 rounded text-white font-bold">üì± Get Number</button>
      <div id="numberResult" class="mt-3"><pre>No number yet</pre></div>
      <button onclick="copyResult('numberResult')" class="mt-2 px-4 py-2 bg-pink-600 rounded text-white">üìã Copy Number</button>
    </div>

    <!-- OTP BUTTON -->
    <div>
      <button onclick="getOtp()" class="w-full bg-gradient-to-r from-purple-500 to-indigo-600 px-4 py-2 rounded text-white font-bold">üîë Get OTP</button>
      <div id="otpResult" class="mt-3"><pre>No OTP yet</pre></div>
      <button onclick="copyResult('otpResult')" class="mt-2 px-4 py-2 bg-pink-600 rounded text-white">üìã Copy OTP</button>
    </div>
  </div>

  <script>
    async function getNumber() {
      const result = document.getElementById("numberResult");
      result.innerHTML = "<pre>‚è≥ Fetching Number...</pre>";
      try {
        const res = await fetch("/api/fake?type=number&app=global--AF-93&carrier=619");
        const data = await res.json();
        result.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
      } catch (err) {
        result.innerHTML = `<span class="error">‚ùå Failed to fetch Number</span>`;
        console.error(err);
      }
    }

    async function getOtp() {
      const result = document.getElementById("otpResult");
      result.innerHTML = "<pre>‚è≥ Fetching OTP...</pre>";
      try {
        const res = await fetch("/api/fake?type=otp");
        const data = await res.json();
        result.innerHTML = `<pre>${JSON.stringify(data, null, 2)}</pre>`;
      } catch (err) {
        result.innerHTML = `<span class="error">‚ùå Failed to fetch OTP</span>`;
        console.error(err);
      }
    }

    function copyResult(id) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text);
      alert("‚úÖ Copied:\n" + text);
    }
  </script>
</body>
</html>
